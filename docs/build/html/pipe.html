
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>uv_pipe_t — Pipe handle &#8212; libuv documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.40.1-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="uv_tty_t — TTY handle" href="tty.html" />
    <link rel="prev" title="uv_tcp_t — TCP handle" href="tcp.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tty.html" title="uv_tty_t — TTY handle"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tcp.html" title="uv_tcp_t — TCP handle"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">libuv 1.40.1-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="api.html" accesskey="U">API documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="uv-pipe-t-pipe-handle">
<span id="pipe"></span><h1><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t"><code class="xref c c-type docutils literal"><span class="pre">uv_pipe_t</span></code></a> — Pipe handle<a class="headerlink" href="#uv-pipe-t-pipe-handle" title="Permalink to this headline">¶</a></h1>
<p>Pipe handles provide an abstraction over streaming files on Unix (including
local domain sockets, pipes, and FIFOs) and named pipes on Windows.</p>
<p><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t"><code class="xref c c-type docutils literal"><span class="pre">uv_pipe_t</span></code></a> is a ‘subclass’ of <a class="reference internal" href="stream.html#c.uv_stream_t" title="uv_stream_t"><code class="xref c c-type docutils literal"><span class="pre">uv_stream_t</span></code></a>.</p>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<dl class="type">
<dt id="c.uv_pipe_t">
<code class="descname">uv_pipe_t</code><a class="headerlink" href="#c.uv_pipe_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Pipe handle type.</p>
</dd></dl>

<div class="section" id="public-members">
<h3>Public members<a class="headerlink" href="#public-members" title="Permalink to this headline">¶</a></h3>
<dl class="member">
<dt id="c.uv_pipe_t.ipc">
int <code class="descname">uv_pipe_t.ipc</code><a class="headerlink" href="#c.uv_pipe_t.ipc" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this pipe is suitable for handle passing between processes.
Only a connected pipe that will be passing the handles should have this flag
set, not the listening pipe that uv_accept is called on.</p>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="stream.html#c.uv_stream_t" title="uv_stream_t"><code class="xref c c-type docutils literal"><span class="pre">uv_stream_t</span></code></a> members also apply.</p>
</div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c.uv_pipe_init">
int <code class="descname">uv_pipe_init</code><span class="sig-paren">(</span><a class="reference internal" href="loop.html#c.uv_loop_t" title="uv_loop_t">uv_loop_t</a>*<em>&nbsp;loop</em>, <a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, int<em>&nbsp;ipc</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a pipe handle. The <cite>ipc</cite> argument is a boolean to indicate if
this pipe will be used for handle passing between processes (which may
change the bytes on the wire). Only a connected pipe that will be
passing the handles should have this flag set, not the listening pipe
that uv_accept is called on.</p>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_open">
int <code class="descname">uv_pipe_open</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, <a class="reference internal" href="misc.html#c.uv_file" title="uv_file">uv_file</a><em>&nbsp;file</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an existing file descriptor or HANDLE as a pipe.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.2.1: </span>the file descriptor is set to non-blocking mode.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The passed file descriptor or HANDLE is not checked for its type, but
it’s required that it represents a valid pipe.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_bind">
int <code class="descname">uv_pipe_bind</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, const char*<em>&nbsp;name</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind the pipe to a file path (Unix) or a name (Windows).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Paths on Unix get truncated to <code class="docutils literal"><span class="pre">sizeof(sockaddr_un.sun_path)</span></code> bytes, typically between
92 and 108 bytes.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_connect">
void <code class="descname">uv_pipe_connect</code><span class="sig-paren">(</span><a class="reference internal" href="stream.html#c.uv_connect_t" title="uv_connect_t">uv_connect_t</a>*<em>&nbsp;req</em>, <a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, const char*<em>&nbsp;name</em>, <a class="reference internal" href="stream.html#c.uv_connect_cb" title="uv_connect_cb">uv_connect_cb</a><em>&nbsp;cb</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the Unix domain socket or the named pipe.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Paths on Unix get truncated to <code class="docutils literal"><span class="pre">sizeof(sockaddr_un.sun_path)</span></code> bytes, typically between
92 and 108 bytes.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_getsockname">
int <code class="descname">uv_pipe_getsockname</code><span class="sig-paren">(</span>const <a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, char*<em>&nbsp;buffer</em>, size_t*<em>&nbsp;size</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_getsockname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the Unix domain socket or the named pipe.</p>
<p>A preallocated buffer must be provided. The size parameter holds the length
of the buffer and it’s set to the number of bytes written to the buffer on
output. If the buffer is not big enough <code class="docutils literal"><span class="pre">UV_ENOBUFS</span></code> will be returned and
len will contain the required size.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 1.3.0: </span>the returned length no longer includes the terminating null byte,
and the buffer is not null terminated.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_getpeername">
int <code class="descname">uv_pipe_getpeername</code><span class="sig-paren">(</span>const <a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, char*<em>&nbsp;buffer</em>, size_t*<em>&nbsp;size</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_getpeername" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the Unix domain socket or the named pipe to which the handle
is connected.</p>
<p>A preallocated buffer must be provided. The size parameter holds the length
of the buffer and it’s set to the number of bytes written to the buffer on
output. If the buffer is not big enough <code class="docutils literal"><span class="pre">UV_ENOBUFS</span></code> will be returned and
len will contain the required size.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.3.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_pending_instances">
void <code class="descname">uv_pipe_pending_instances</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, int<em>&nbsp;count</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_pending_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the number of pending pipe instance handles when the pipe server is
waiting for connections.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This setting applies to Windows only.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe_pending_count">
int <code class="descname">uv_pipe_pending_count</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_pending_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.uv_pipe_pending_type">
uv_handle_type <code class="descname">uv_pipe_pending_type</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_pending_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to receive handles over IPC pipes.</p>
<p>First - call <a class="reference internal" href="#c.uv_pipe_pending_count" title="uv_pipe_pending_count"><code class="xref c c-func docutils literal"><span class="pre">uv_pipe_pending_count()</span></code></a>, if it’s &gt; 0 then initialize
a handle of the given <cite>type</cite>, returned by <a class="reference internal" href="#c.uv_pipe_pending_type" title="uv_pipe_pending_type"><code class="xref c c-func docutils literal"><span class="pre">uv_pipe_pending_type()</span></code></a>
and call <code class="docutils literal"><span class="pre">uv_accept(pipe,</span> <span class="pre">handle)</span></code>.</p>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="stream.html#c.uv_stream_t" title="uv_stream_t"><code class="xref c c-type docutils literal"><span class="pre">uv_stream_t</span></code></a> API functions also apply.</p>
</div>
<dl class="function">
<dt id="c.uv_pipe_chmod">
int <code class="descname">uv_pipe_chmod</code><span class="sig-paren">(</span><a class="reference internal" href="#c.uv_pipe_t" title="uv_pipe_t">uv_pipe_t</a>*<em>&nbsp;handle</em>, int<em>&nbsp;flags</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe_chmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Alters pipe permissions, allowing it to be accessed from processes run by
different users. Makes the pipe writable or readable by all users. Mode can
be <code class="docutils literal"><span class="pre">UV_WRITABLE</span></code>, <code class="docutils literal"><span class="pre">UV_READABLE</span></code> or <code class="docutils literal"><span class="pre">UV_WRITABLE</span> <span class="pre">|</span> <span class="pre">UV_READABLE</span></code>. This
function is blocking.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.16.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.uv_pipe">
int <code class="descname">uv_pipe</code><span class="sig-paren">(</span><a class="reference internal" href="misc.html#c.uv_file" title="uv_file">uv_file</a><em>&nbsp;fds[2]</em>, int<em>&nbsp;read_flags</em>, int<em>&nbsp;write_flags</em><span class="sig-paren">)</span><a class="headerlink" href="#c.uv_pipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a pair of connected pipe handles.
Data may be written to <cite>fds[1]</cite> and read from <cite>fds[0]</cite>.
The resulting handles can be passed to <cite>uv_pipe_open</cite>, used with <cite>uv_spawn</cite>,
or for any other purpose.</p>
<p>Valid values for <cite>flags</cite> are:</p>
<blockquote>
<div><ul class="simple">
<li>UV_NONBLOCK_PIPE: Opens the specified socket handle for <cite>OVERLAPPED</cite>
or <cite>FIONBIO</cite>/<cite>O_NONBLOCK</cite> I/O usage.
This is recommended for handles that will be used by libuv,
and not usually recommended otherwise.</li>
</ul>
</div></blockquote>
<p>Equivalent to <a class="reference external" href="https://man7.org/linux/man-pages/man2/pipe.2.html">pipe(2)</a> with the <cite>O_CLOEXEC</cite> flag set.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.x.0.</span></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">uv_pipe_t</span></code> — Pipe handle</a><ul>
<li><a class="reference internal" href="#data-types">Data types</a><ul>
<li><a class="reference internal" href="#public-members">Public members</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tcp.html"
                        title="previous chapter"><code class="docutils literal"><span class="pre">uv_tcp_t</span></code> — TCP handle</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tty.html"
                        title="next chapter"><code class="docutils literal"><span class="pre">uv_tty_t</span></code> — TTY handle</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pipe.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tty.html" title="uv_tty_t — TTY handle"
             >next</a> |</li>
        <li class="right" >
          <a href="tcp.html" title="uv_tcp_t — TCP handle"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">libuv 1.40.1-dev documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="api.html" >API documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-present, libuv contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>